create Database nairoutedb;
use nairoutedb;
create table Commuter ( commuterid int auto_increment primary key,
firstName varchar(255) NOT NULL,
secondname varchar(255) NOT NULL,
email varchar(255) unique,
phoneNumber int NOT NULL unique,
homeAddress varchar(255),
password varchar(255));

create table Driver ( driverid int auto_increment primary key,
firstName varchar(255) NOT NULL,
secondname varchar(255) NOT NULL,
email varchar(255) unique,
phoneNumber int NOT NULL unique,
licenseNumber int NOT NULL,
password varchar(255));

create table Routes ( routeid int auto_increment primary key,
routeNumber int NOT NULL,
startLocation varchar(255) NOT NULL,
endLocation varchar(255) NOT NULL,
distance int NOT NULL);

create table Vehicles ( vehicleid int auto_increment primary key,
vehicleNumber varchar(255)NOT NULL unique,
vehicleType varchar(255) NOT NULL,
assignedDriver int,
BookingStatus varchar(255) ,
constraint fk1_ve_dr foreign key (assignedDriver) references driver(driverId));

create table Bookings ( bookingid int auto_increment primary key,
commuterid int,
vehicleid int,
bookingDate date NOT NULL,
BookingStatus varchar(255),
routeid int,
constraint fk1_book_com foreign key (commuterid) references commuter(commuterid),
constraint fk1_book_ve foreign key (vehicleid) references vehicles(vehicleid),
constraint fk1_book_ro foreign key (routeid) references routes(routeid));

create table Payments ( paymentid int auto_increment primary key,
bookingid int,
amountToPay int,
paymentDate date NOT NULL,
paymentStatus varchar(255),
routeid int,
constraint fk1_pay_book foreign key (bookingid) references bookings(bookingid));